<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--------------------------------------------------------------------------------------------------------->
	<fieldset>
		<legend>문제 4</legend>
		<h3>전체선택버튼을 클릭하면 체크항목을 모두 체크하거나 모두 해제해 주세요.</h3>
		<input type="checkbox" name="all" onclick="answer04(this.checked);"/>전체선택<br/>
        <!--this.checked : 전체 선택 체크박스가 체크되었는지 true / false -->
        <!--함수 외부에서 사용하면 this가 무엇인지 모름-->
		<input type="checkbox" name="subject" />Java<br/>
		<input type="checkbox" name="subject" />DataBase<br/>
		<input type="checkbox" name="subject" />Web<br/>
		
        <script>
            /*
            function answer04() {
                var value = document.querySelector(this.checked).value;
                // 선택자(css선택자)에는 true/false값이 들어갈 수 없음
                if(value) {
                    return document.querySelectorAll('input[name="subject"].cheked');
                }
            } 

            // Uncaught TypeError: Cannot read properties of null (reading 'value') at answer04 (test2.html:20:65) at HTMLInputElement.onclick (test2.html:13:72) 오류 발생함 */

            // docuement.getElementsByName(), document.querySelectorAll() 활용하기 

            function answer04(isChecked) {
                // true, false를 매개변수로 받기

                // name = 'subject' 체크박스를 모두 선택 
                var checkboxes = document.querySelectorAll('input[name="subject"]');

                // 반복문 돌면서 상태 변경 
                checkboxes.forEach(function(checkbox) {
                    
                    // 전체 선택의 상태대로 체크 / 해제
                    checkbox.checked = isChecked;
                });
            }
            
        </script>
	</fieldset>
	
	<!--------------------------------------------------------------------------------------------------------->
	<fieldset>
		<legend>문제 5</legend>
		<h3>1~20사이의 랜덤한 숫자를 생성해서 input 태그 안에 입력해주세요.</h3>
		랜덤:<input type="text" readonly="readonly" id="randomInput"/> <button onclick="answer05();">생성</button>

        <script>
            /*
            function answer05(min, max) {
                // var rnum = Math.random();
                // console.log(rnum); // 0.xxx 소숫점으로 나오므로 1-20까지의 정수로 나오도록 수정 필요

                // 특정 범위의 랜덤 정수 생성 
                min = Math.ceil(min);
                max = Math.floor(max); 
                return Math.floor(Math.random() * (max - min + 1)) + min; // 최댓값 포함 
            }

            // 여기서 getRandom 이 정의되어 있지 않아 오류남 
            // let randomInteger = getRandom(1, 20) // 1부터 20 사이의 랜덤 정수 
            // console.log(randomInteger); */

            function answer05() {
                // 랜덤 숫자 생성 
                var min = 1; 
                var max = 20; 

                var random = Math.floor(Math.random() * (max - min + 1)) + min; 

                // input 태그에 랜덤 숫자 넣기 
                document.getElementById("randomInput").value = random;
            }
        </script>
	</fieldset>
	
	<!--------------------------------------------------------------------------------------------------------->
	<fieldset>
		<legend>문제 6</legend>
		<h3>셀렉트 태그를 사용하여, 원하는 페이지로 이동해 주세요.</h3>
		<select id="locationSelect" onchange="answer06();">
            <!--select의 onchange 속성을 사용해서 스크립트 함수 호출-->
			<option>--선택--</option>
			<option value="https://www.naver.com">네이버</option>
			<option value="https://www.google.com">구글</option>
			<option value="https://www.w3schools.com">w3scools</option>
		</select>

        <script>
            function answer06() {
                /*
                // 선택한 값 가져오기 
                const location = document.querySelector('select[id = "locationSelect"]:checked').value;

                // 선택된 값 찾기 
                let selected = document.querySelector('select[id="locationSelect"]:checked').value;
                console.log(selected.value);

                // test2.html:100 Uncaught TypeError: Cannot read properties of null (reading 'value') at answer06 (test2.html:100:97) at HTMLSelectElement.onchange (test2.html:90:54) answer06	@	test2.html:100 onchange	@	test2.html:90 */

                // select값 가져오기 
                const location = document.getElementById("locationSelect").value;
                // 디버깅 : console.log(location); // 선택된 값 나옴! 
                // console.log(location.value) // undefined 그 이유는? 

                // 선택된 값에 해당하는 새 페이지로 열기 
                window.open(location,"_blanck");

            }

        </script>
	</fieldset>
	
</body>
</html>